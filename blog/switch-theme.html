<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" href="../images/favicon.ico" />
    <link rel="apple-touch-icon" href="../images/android-chrome-192x192.png" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      name="description"
      content="theme switch, code snippet, dark mode, light mode, step by step guide, front-end developer, blogger"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65"
      crossorigin="anonymous"
    />
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4"
      crossorigin="anonymous"
    ></script>
    <link rel="stylesheet" href="../css/styles.css" />
    <title>Resources</title>
  </head>
  <body>
    <div class="container">
      <nav class="navbar navbar-expand-lg">
        <div class="container-fluid d-flex px-5 py-3">
          <a class="navbar-brand my-brand" href="../index.html"
            >Hajar Lavasani</a
          >
          <button
            class="navbar-toggler"
            type="button"
            data-bs-toggle="collapse"
            data-bs-target="#navbarNavAltMarkup"
            aria-controls="navbarNavAltMarkup"
            aria-expanded="false"
            aria-label="Toggle navigation"
          >
            <span class="navbar-toggler-icon"></span>
          </button>
          <div
            class="collapse navbar-collapse justify-content-end"
            id="navbarNavAltMarkup"
          >
            <div class="navbar-nav">
              <a class="nav-link" href="../about.html">About</a>
              <a class="nav-link" href="../project.html">Projects</a>
              <a class="nav-link active" aria-current="page" href="../blog.html"
                >Blog</a
              >
              <a class="nav-link" href="../contact.html">Contact</a>
              <a class="nav-link" id="theme-icon" href="#"
                ><svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="16"
                  height="16"
                  fill="currentColor"
                  class="bi bi-moon-fill"
                  viewBox="0 0 16 16"
                >
                  <path
                    id="theme-icon-path"
                    d="M6 .278a.768.768 0 0 1 .08.858 7.208 7.208 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527 0 1.04-.055 1.533-.16a.787.787 0 0 1 .81.316.733.733 0 0 1-.031.893A8.349 8.349 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.752.752 0 0 1 6 .278z"
                  />
                </svg>
              </a>
            </div>
          </div>
        </div>
      </nav>

      <article>
        <header>
          <h1>Build a website theme switcher</h1>
          <p class="text-muted">
            A step by step guide using HTML, CSS, and JavaScript code snippets
            with extra ideas
          </p>
        </header>

        <section>
          <h4>
            Steps for choosing how to switch your website theme (dark/light
            mode):
          </h4>
          <ol>
            <li>Theme change element</li>
            <ul>
              <li>a <a href="#section-one">button</a>,</li>
              <li>a toggle switch,</li>
              <li>drop down list,</li>
              <li>or <a href="#section-four-two">user's preferred mode</a></li>
            </ul>
            <li>
              Theme styling
              <ul>
                <li>create separate styling sheets (CSS files)</li>
                <li>
                  or use CSS variable names and define different styles in a
                  <a href="#section-two">single CSS file</a>
                </li>
              </ul>
            </li>
            <li>JavaScript</li>
            <ul>
              code the
              <a href="#section-three">function</a>
              that connects the "element" on your page and the styling
            </ul>
            <li><a href="#section-four">Ideas and considerations</a></li>
            <li><a href="#section-six">Final notes</a></li>
          </ol>
        </section>

        <section id="section-one">
          <h4>The switch button</h4>
          <p>
            I use a button for switching themes, alternatively you can use a
            toggle or a drop down list. You can start with a simple button with
            text and improve on it later.
          </p>
          <p>
            I use filled
            <a target="_blank" href="https://icons.getbootstrap.com/?q=sun"
              >sun</a
            >
            and
            <a target="_blank" href="https://icons.getbootstrap.com/?q=moon"
              >moon</a
            >
            SVG icons by bootstrap and change the SVG path (shape) with
            javaScript. I also liked their lamp and lightbulbs which you can
            find
            <a target="_blank" href="https://icons.getbootstrap.com/?q=lamp"
              >here</a
            >. I prefer SVGs because they are light-weight and don't lose their
            quality.
          </p>
          <p>
            You need to set an id for the SVG path so you can change it using
            setAttribute when the button is clicked.
          </p>
          <p>
            Do not forget to set an id for the theme button so that it can be
            selected by JS querySelector.
          </p>
        </section>
        <br />
        <section id="section-two">
          <h4>Multiple theme styles in a single CSS file</h4>
          <p>
            Theme toggle can switch between CSS files, but in this case, all the
            styling is done with one CSS file. The colors are defined with CSS
            variables in the root and the dark theme colors are defined in root
            with a class named dark-theme. The default style is light. The
            JavaScript function adds a class (dark-theme) to <q>body</q> so that
            the dark-theme styling defined in the CSS file is applied.
          </p>
          <p>
            The top of your CSS file would look like the following and you can
            notice that if a variable is not defined in the dark-theme (for
            example the font), the values from the default theme will apply.
          </p>
          <pre><code class="microlight">:root {
  --text-font: "Lato", sans-serif;
  --text-color: black
  --background-color: white
}
          
:root .dark-theme {
  --text-color: white;
  --background-color: black;
}</code></pre>
          <p>
            If the style is already dark, the function removes the dark-theme
            class so that only the default styling is applied.
          </p>
        </section>
        <br />
        <section id="section-three">
          <h4>JavaScript code for switching themes</h4>
          <p>
            The JavaScript toggleTheme function has an if statement that is
            called when the switch button is clicked. The variable inside the if
            function needs to be defined beforehand.
          </p>

          <pre><code class="microlight">var theme = "light-theme";</code></pre>

          <p>
            I used bootstrap navbar so I had a style class added to the navbar
            in the dark-mode. I also assigned an id to the button's SVG path and
            it changes from sun to moon with the theme switch.
          </p>
          
          <p>
            Based on your design, you can add or remove the changes that happen.
            In the following code, whatever is inside the
            <strong>if</strong> happens during the dark theme and the code
            inside the <strong> else</strong> is executed in the light theme.
          </p>

          <p>
            LocalStorage is for storing the theme preference in
            <a href="#section-four-one"> multi-page websites</a> and for future
            visits.
          </p>

          <pre><code class="microlight">function toggleTheme() {
  if (theme === "light-theme") {
    theme = "dark-theme";
    localStorage.setItem("activeTheme", "dark theme activate");
    document.querySelector("body").classList.add("dark-theme");
    document.querySelector("nav").classList.add("navbar-dark");
    document
      .getElementById("theme-icon-path")
      .setAttribute(
        "d",
        "M8 12a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0zm0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13zm8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5zM3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8zm10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0zm-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0zm9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707zM4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708z"
      );
  } else {
    theme = "light-theme";
    localStorage.setItem("activeTheme", "dark theme NOT activate");
    document.querySelector("body").classList.remove("dark-theme");
    document.querySelector("nav").classList.remove("navbar-dark");
    document
      .getElementById("theme-icon-path")
      .setAttribute(
        "d",
        "M6 .278a.768.768 0 0 1 .08.858 7.208 7.208 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527 0 1.04-.055 1.533-.16a.787.787 0 0 1 .81.316.733.733 0 0 1-.031.893A8.349 8.349 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.752.752 0 0 1 6 .278z"
      );
  }
}

var theme = "light-theme";
let themeButton = document.querySelector("#theme-icon");
themeButton.addEventListener("click", toggleTheme);</code></pre>
        </section>
        <br />
        <section id="section-four">
          <h4>Ideas and considerations</h4>

          <h5 id="section-four-one">
            <li>Set active theme for multi-page websites</li>
          </h5>

          <p>
            I stored the theme status in the local storage so that if it has
            been switched on another page, the status is accessible on other
            pages. My default theme is light, so the function switches to
            dark mode if it has been activated on any other page.
          </p>
          <pre><code class="microlight">let onAnotherPage = localStorage.getItem("activeTheme");   
if (onAnotherPage === "dark theme activate") {  
  toggleTheme();            
}</code></pre>

          <h5 id="section-four-two">
            <li>Do not blind dark theme users with a white background</li>
          </h5>
          <p>
            With the following JS code, you can check if the user's system theme
            is dark mode:
          </p>

          <pre><code class="microlight">const userPrefersDarkTheme = window.matchMedia('(prefers-color-scheme: dark)');</code></pre>

          <p>
            Because my default theme on load is <q>light</q>, I inserted an if
            function that switched to dark theme when the user's system default
            is <q>dark</q>. The switch button works fine and the user can switch
            it back to <q>light</q> mode.
          </p>

          <pre><code class="microlight">if (userPrefersDarkTheme.matches) {
  toggleTheme();
}</code></pre>
        </section>
        <br />
        <section id="section-six">
          <h4>Final notes</h4>
          <p>
            This article gives an overview of my thought process and how I
            created the thme switch for my website. Please give attribution if
            you use any parts of the code or this article.
          </p>
          <p>
            I would love to <a href="../contact.html">hear from you</a> if you
            think your thoughts can improve this article or if you just want to
            chat.
          </p>
        </section>
      </article>

      <footer class="coder">
        ©
        <a
          href="https://www.linkedin.com/in/hajar-s-lavasani/"
          target="_blank"
          title="LinkedIn profile"
          >Hajar S Lavasani</a
        >
      </footer>
    </div>
    <script src="../js/app.js"></script>
    <script src="../js/microlight.js"></script>
  </body>
</html>
